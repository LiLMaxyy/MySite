<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Магазин товаров</title>
    <style>
        

        .product img {
            max-width: 100%;
            height: auto;
            margin-bottom: 10px;
        }
    </style>
</head>
<body>



<section>
    <div class="product">
        <h2>Товар 1</h2>
        <img src="product1.jpg" alt="Товар 1">
        <p>Описание товара 1.</p>
        <p>Цена: $19.99</p>
        <button onclick="addToCart('Товар 1', 19.99)">Добавить в корзину</button>
    </div>

    <div class="product">
        <h2>Товар 2</h2>
        <img src="product2.jpg" alt="Товар 2">
        <p>Описание товара 2.</p>
        <p>Цена: $29.99</p>
        <button onclick="addToCart('Товар 2', 29.99)">Добавить в корзину</button>
    </div>

    
    <div id="addProductForm">
        <h2>Добавить новый товар</h2>
        <form onsubmit="addNewProduct(); return false;">
            <label for="productName">Название товара:</label>
            <input type="text" id="productName" required>
            
            <label for="productPrice">Цена:</label>
            <input type="number" id="productPrice" step="0.01" required>
            
            <label for="productDescription">Описание товара:</label>
            <textarea id="productDescription" required></textarea>

            <label for="productImage">Изображение (URL):</label>
            <input type="url" id="productImage" required>

            <button type="submit">Добавить товар</button>
        </form>
    </div>
</section>


<script>
    

    function addNewProduct() {
        const productName = document.getElementById('productName').value;
        const productPrice = parseFloat(document.getElementById('productPrice').value);
        const productDescription = document.getElementById('productDescription').value;
        const productImage = document.getElementById('productImage').value;

        if (productName && !isNaN(productPrice) && productDescription && productImage) {
            const newProduct = {
                name: productName,
                price: productPrice,
                description: productDescription,
                image: productImage
            };

            
            cartItems.push(newProduct);
            updateCart();

            
            addProductToSection(newProduct);
        } else {
            alert('Пожалуйста, заполните все поля формы.');
        }
    }

    function addProductToSection(product) {
        const section = document.querySelector('section');
        const productElement = createProductElement(product);
        section.insertBefore(productElement, document.getElementById('addProductForm'));
    }

    function createProductElement(product) {
        const productDiv = document.createElement('div');
        productDiv.classList.add('product');

        const productName = document.createElement('h2');
        productName.textContent = product.name;

        const productImage = document.createElement('img');
        productImage.src = product.image;
        productImage.alt = product.name;

        const productDescription = document.createElement('p');
        productDescription.textContent = product.description;

        const productPrice = document.createElement('p');
        productPrice.textContent = `Цена: $${product.price.toFixed(2)}`;

        const addToCartButton = document.createElement('button');
        addToCartButton.textContent = 'Добавить в корзину';
        addToCartButton.onclick = function () {
            addToCart(product.name, product.price);
        };

        productDiv.appendChild(productName);
        productDiv.appendChild(productImage);
        productDiv.appendChild(productDescription);
        productDiv.appendChild(productPrice);
        productDiv.appendChild(addToCartButton);

        return productDiv;
    }
</script>

</body>
</html>